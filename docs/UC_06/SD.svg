<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1227px" preserveAspectRatio="none" style="width:1511px;height:1227px;" version="1.1" viewBox="0 0 1511 1227" width="1511px" zoomAndPan="magnify"><defs><filter height="300%" id="f1xmcaqzibdl4f" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="314.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="89.5703"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="232.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="206" y="171.2734"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="46" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="1160.6641"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="786.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="391" y="403.7656"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="716.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="497" y="474.4688"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="617.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="502" y="512.8203"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="686" y="548.1719"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="204.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="795.5" y="783.7969"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078.5" y="868.2031"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1200.5" y="723.4453"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1352" y="1025.9609"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1352" y="1100.3125"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="1007.3906" style="stroke: #000000; stroke-width: 2.0;" width="1375" x="125.5" y="191.2734"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="413.5703" style="stroke: #000000; stroke-width: 2.0;" width="1077.5" x="413" y="657.3906"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="381.2188" style="stroke: #000000; stroke-width: 2.0;" width="1057.5" x="423" y="682.7422"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="205.5" x2="205.5" y1="57.2188" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="396" x2="396" y1="315.9531" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="502" x2="502" y1="251.7344" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="691" x2="691" y1="57.2188" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="800" x2="800" y1="57.2188" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1083.5" x2="1083.5" y1="57.2188" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1205.5" x2="1205.5" y1="57.2188" y2="1215.6641"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1356.5" x2="1356.5" y1="628.2813" y2="1215.6641"/><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="135.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="173" y="24.5332">scheduler</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="142.5" y="42.1426">:PaymentScheduler</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="640" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="678.5" y="24.5332">org</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="647" y="42.1426">:Organization</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="752" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="16" x="790.5" y="24.5332">trs</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="759" y="42.1426">:Transaction</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1034.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1041.5" y="42.1426">:PaymentAPI</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="1142.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="7" x="1200" y="24.5332">lt</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1149.5" y="42.1426">:ListTransactions</text><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="314.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="89.5703"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="232.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="206" y="171.2734"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="46" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="1160.6641"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="786.8984" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="391" y="403.7656"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="716.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="497" y="474.4688"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="617.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="502" y="512.8203"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="686" y="548.1719"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="204.8125" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="795.5" y="783.7969"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1078.5" y="868.2031"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1200.5" y="723.4453"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1352" y="1025.9609"/><rect fill="#FFFFFF" filter="url(#f1xmcaqzibdl4f)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1352" y="1100.3125"/><ellipse cx="10.5" cy="88.8203" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="189,85.5703,199,89.5703,189,93.5703,193,89.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="195" y1="89.5703" y2="89.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="84.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="29" y="84.7139">create(day, timeOfDay, org)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="211" x2="253" y1="119.9219" y2="119.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="253" x2="253" y1="119.9219" y2="132.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="212" x2="253" y1="132.9219" y2="132.9219"/><polygon fill="#A80036" points="222,128.9219,212,132.9219,222,136.9219,218,132.9219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="218" y="115.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="229" y="115.0654">resetTime(day, timeOfDay)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="211" x2="258" y1="158.2734" y2="158.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="258" y1="158.2734" y2="171.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217" x2="258" y1="171.2734" y2="171.2734"/><polygon fill="#A80036" points="227,167.2734,217,171.2734,227,175.2734,223,171.2734" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="153.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="234" y="153.417">scheduleNextMonth()</text><path d="M125.5,191.2734 L198.5,191.2734 L198.5,199.2734 L188.5,209.2734 L125.5,209.2734 L125.5,191.2734 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1007.3906" style="stroke: #000000; stroke-width: 2.0;" width="1375" x="125.5" y="191.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="140.5" y="205.7686">loop</text><polygon fill="#A80036" points="421,227.9766,431,231.9766,421,235.9766,425,231.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="427" y1="231.9766" y2="231.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="227.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="234" y="227.1201">create(org, scheduler)</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="433" y="209.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="485" y="231.1582">task:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="440" y="248.7676">MakePaymentTask</text><polygon fill="#A80036" points="357,292.1953,367,296.1953,357,300.1953,361,296.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="363" y1="296.1953" y2="296.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="291.3389">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="234" y="291.3389">create()</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="369" y="273.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="376.5" y="295.377">timer:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="376" y="312.9863">Timer</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="258" y1="360.4141" y2="360.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="258" y1="360.4141" y2="373.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217" x2="258" y1="373.4141" y2="373.4141"/><polygon fill="#A80036" points="227,369.4141,217,373.4141,227,377.4141,223,373.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="355.5576">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="234" y="355.5576">date = getNextDate()</text><polygon fill="#A80036" points="379,399.7656,389,403.7656,379,407.7656,383,403.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="206" x2="385" y1="403.7656" y2="403.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="213" y="398.9092">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="224" y="398.9092">schedule(task, date)</text><path d="M159,416.7656 L159,442.7656 L441,442.7656 L441,426.7656 L431,416.7656 L159,416.7656 " fill="#FBFB77" filter="url(#f1xmcaqzibdl4f)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431,416.7656 L431,426.7656 L441,426.7656 L431,416.7656 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="205.25" y="435.2607">On the specified date and time</text><polygon fill="#A80036" points="485,470.4688,495,474.4688,485,478.4688,489,474.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="401" x2="491" y1="474.4688" y2="474.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="408" y="469.6123">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="419" y="469.6123">run()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="507" x2="554" y1="499.8203" y2="499.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="554" x2="554" y1="499.8203" y2="512.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="513" x2="554" y1="512.8203" y2="512.8203"/><polygon fill="#A80036" points="523,508.8203,513,512.8203,523,516.8203,519,512.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="519" y="494.9639">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="530" y="494.9639">makePayments()</text><polygon fill="#A80036" points="674,544.1719,684,548.1719,674,552.1719,678,548.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="680" y1="548.1719" y2="548.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="543.3154">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="537" y="543.3154">lt = getListTransaction()</text><polygon fill="#A80036" points="1266.5,604.5234,1276.5,608.5234,1266.5,612.5234,1270.5,608.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="1272.5" y1="608.5234" y2="608.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="603.667">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="537" y="603.667">create()</text><rect fill="#FEFECE" filter="url(#f1xmcaqzibdl4f)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="1278.5" y="586.1719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="1285.5" y="607.7051">completeTransactions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1301" y="625.3145">:ListTransactions</text><path d="M413,657.3906 L486,657.3906 L486,665.3906 L476,675.3906 L413,675.3906 L413,657.3906 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="413.5703" style="stroke: #000000; stroke-width: 2.0;" width="1077.5" x="413" y="657.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="428" y="671.8857">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="501" y="670.8096">[for each transaction]</text><path d="M423,682.7422 L488,682.7422 L488,690.7422 L478,700.7422 L423,700.7422 L423,682.7422 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="381.2188" style="stroke: #000000; stroke-width: 2.0;" width="1057.5" x="423" y="682.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="20" x="438" y="697.2373">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="164" x="503" y="696.1611">[if the transaction isn't paid]</text><polygon fill="#A80036" points="1188.5,719.4453,1198.5,723.4453,1188.5,727.4453,1192.5,723.4453" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="1194.5" y1="723.4453" y2="723.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="718.5889">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="537" y="718.5889">trs = getTransaction(ID)</text><polygon fill="#A80036" points="783.5,779.7969,793.5,783.7969,783.5,787.7969,787.5,783.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="789.5" y1="783.7969" y2="783.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="778.9404">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="537" y="778.9404">makeBankTransfer()</text><polygon fill="#A80036" points="1066.5,864.2031,1076.5,868.2031,1066.5,872.2031,1070.5,868.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="805.5" x2="1072.5" y1="868.2031" y2="868.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="812.5" y="863.3467">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="830.5" y="863.3467">payTo(fID, fIBAN, tID,tDes, aEUR, aNAT)</text><path d="M1088,796.7969 L1088,920.7969 L1461,920.7969 L1461,806.7969 L1451,796.7969 L1088,796.7969 " fill="#FBFB77" filter="url(#f1xmcaqzibdl4f)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1451,796.7969 L1451,806.7969 L1461,806.7969 L1451,796.7969 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="298" x="1094" y="815.292">Here the getters for the following fields were omited:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="219" x="1094" y="831.6436">fID - The ID of the freelancer to pay to.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="240" x="1094" y="847.9951">fIBAN - The IBAN of the freelancer to pay.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="1094" y="864.3467">tID - The ID of the task this payment is for.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="307" x="1094" y="880.6982">tDes - The description of the task this payment is for.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="305" x="1094" y="897.0498">aEUR - The amount in euros to pay to the freelancer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="352" x="1094" y="913.4014">aNAT - The amount in the freelancer's native currency to pay.</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="805.5" x2="847.5" y1="987.6094" y2="987.6094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="847.5" x2="847.5" y1="987.6094" y2="1000.6094"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="800.5" x2="847.5" y1="1000.6094" y2="1000.6094"/><polygon fill="#A80036" points="810.5,996.6094,800.5,1000.6094,810.5,1004.6094,806.5,1000.6094" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="812.5" y="982.7529">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="830.5" y="982.7529">setPaid(true)</text><polygon fill="#A80036" points="1340,1021.9609,1350,1025.9609,1340,1029.9609,1344,1025.9609" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="1346" y1="1025.9609" y2="1025.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="1021.1045">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="537" y="1021.1045">add(trs)</text><polygon fill="#A80036" points="1340,1096.3125,1350,1100.3125,1340,1104.3125,1344,1100.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="1346" y1="1100.3125" y2="1100.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="1095.4561">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="537" y="1095.4561">emailAboutPayment()</text><polygon fill="#A80036" points="222,1156.6641,212,1160.6641,222,1164.6641,218,1160.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="496" y1="1160.6641" y2="1160.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="228" y="1155.8076">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="246" y="1155.8076">scheduleNextMonth()</text><!--MD5=[f3e794df4dde902b6f86e540e77edb8c]
@startuml SD
autonumber
hide footbox

participant "scheduler\n:PaymentScheduler" as SC
participant "timer:\nTimer" as TIMER
participant "task:\nMakePaymentTask" as TASK
participant "org\n:Organization" as org
participant "trs\n:Transaction" as trs
participant ":PaymentAPI" as papi
participant "lt\n:ListTransactions" as lt
participant "completeTransactions\n:ListTransactions" as ct

[o-> SC : create(day, timeOfDay, org)
activate SC
        SC -> SC : resetTime(day, timeOfDay)
        SC -> SC : scheduleNextMonth()
loop
        activate SC
                SC -> TASK**  : create(org, scheduler)
                SC -> TIMER** : create()
                SC -> SC : date = getNextDate()
                SC ->TIMER: schedule(task, date)
        deactivate SC
deactivate SC
        activate TIMER
                note over SC,TIMER  : On the specified date and time
                TIMER->TASK:run()
                activate TASK
                        TASK->TASK: makePayments()
                        activate TASK
                                TASK -> org : lt = getListTransaction()
                                activate org
                                deactivate org
                                TASK -> ct ** : create()
                                loop for each transaction
                                        opt if the transaction isn't paid
                                                TASK -> lt : trs = getTransaction(ID)
                                                activate lt
                                                deactivate lt
                                                TASK -> trs : makeBankTransfer()
                                                activate trs
                                                        trs -> papi: payTo(fID, fIBAN, tID,tDes, aEUR, aNAT)
                                                        activate papi
                                                        deactivate papi
                                                        note right
                                                                Here the getters for the following fields were omited:
                                                                fID - The ID of the freelancer to pay to.
                                                                fIBAN - The IBAN of the freelancer to pay.
                                                                tID - The ID of the task this payment is for.
                                                                tDes - The description of the task this payment is for.
                                                                aEUR - The amount in euros to pay to the freelancer.
                                                                aNAT - The amount in the freelancer's native currency to pay.
                                                        end note
                                                        trs -> trs : setPaid(true)
                                                deactivate trs
                                                TASK -> ct : add(trs)
                                                activate ct
                                                deactivate ct
                                        end
                                end
                                TASK -> ct : emailAboutPayment()
                                activate ct
                                deactivate ct
                        deactivate TASK
                        TASK -> SC : scheduleNextMonth()
                        activate SC
                deactivate TASK
        deactivate TIMER
end


@enduml

PlantUML version 1.2020.10(Sun May 17 10:35:57 WEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14+36
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>