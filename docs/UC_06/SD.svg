<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1359px" preserveAspectRatio="none" style="width:1866px;height:1359px;" version="1.1" viewBox="0 0 1866 1359" width="1866px" zoomAndPan="magnify"><defs><filter height="300%" id="f1imajdaqds2fx" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="314.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="89.5703"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="232.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="206" y="171.2734"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="46" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="1292.1797"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="918.4141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="391" y="403.7656"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="847.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="497" y="474.4688"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="749.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="502" y="512.8203"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="686" y="548.1719"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="608.5234"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="592.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="862.5" y="668.875"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="147.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1109.5" y="849.1484"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1318.5" y="966.2031"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1600.5" y="788.7969"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1600.5" y="1060.7734"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1752" y="1121.125"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1752" y="1231.8281"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="1138.9063" style="stroke: #000000; stroke-width: 2.0;" width="1730" x="125.5" y="191.2734"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="454.3828" style="stroke: #000000; stroke-width: 2.0;" width="1046.5" x="799" y="748.0938"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="205.5" x2="205.5" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="396" x2="396" y1="315.9531" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="502" x2="502" y1="251.7344" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="691" x2="691" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="775" x2="775" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="867" x2="867" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1114" x2="1114" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1323.5" x2="1323.5" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1493.5" x2="1493.5" y1="1016.3125" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1605.5" x2="1605.5" y1="57.2188" y2="1347.1797"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1756.5" x2="1756.5" y1="718.9844" y2="1347.1797"/><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="137" x="135.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="62" x="173" y="24.5332">scheduler</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="123" x="142.5" y="42.1426">:PaymentScheduler</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="98" x="640" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="21" x="678.5" y="24.5332">org</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="84" x="647" y="42.1426">:Organization</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="43" x="752" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="29" x="759" y="42.1426">:App</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="113" x="809" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="13" x="859" y="24.5332">rp</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="816" y="42.1426">:RegistPayment</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="93" x="1066" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="16" x="1104.5" y="24.5332">trs</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="1073" y="42.1426">:Transaction</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="94" x="1274.5" y="20.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="80" x="1281.5" y="42.1426">:PaymentAPI</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="1542.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="7" x="1600" y="24.5332">lt</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1549.5" y="42.1426">:ListTransactions</text><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="314.1953" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="89.5703"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="232.4922" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="206" y="171.2734"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="46" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="201" y="1292.1797"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="918.4141" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="391" y="403.7656"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="847.7109" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="497" y="474.4688"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="749.0078" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="502" y="512.8203"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="686" y="548.1719"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="770.5" y="608.5234"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="592.9531" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="862.5" y="668.875"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="147.4063" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1109.5" y="849.1484"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1318.5" y="966.2031"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1600.5" y="788.7969"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1600.5" y="1060.7734"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1752" y="1121.125"/><rect fill="#FFFFFF" filter="url(#f1imajdaqds2fx)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="1752" y="1231.8281"/><ellipse cx="10.5" cy="88.8203" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="189,85.5703,199,89.5703,189,93.5703,193,89.5703" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="195" y1="89.5703" y2="89.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="18" y="84.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="29" y="84.7139">create(day, timeOfDay, org)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="211" x2="253" y1="119.9219" y2="119.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="253" x2="253" y1="119.9219" y2="132.9219"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="212" x2="253" y1="132.9219" y2="132.9219"/><polygon fill="#A80036" points="222,128.9219,212,132.9219,222,136.9219,218,132.9219" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="218" y="115.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="155" x="229" y="115.0654">resetTime(day, timeOfDay)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="211" x2="258" y1="158.2734" y2="158.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="258" y1="158.2734" y2="171.2734"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217" x2="258" y1="171.2734" y2="171.2734"/><polygon fill="#A80036" points="227,167.2734,217,171.2734,227,175.2734,223,171.2734" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="153.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="234" y="153.417">scheduleNextMonth()</text><path d="M125.5,191.2734 L198.5,191.2734 L198.5,199.2734 L188.5,209.2734 L125.5,209.2734 L125.5,191.2734 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="1138.9063" style="stroke: #000000; stroke-width: 2.0;" width="1730" x="125.5" y="191.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="140.5" y="205.7686">loop</text><polygon fill="#A80036" points="421,227.9766,431,231.9766,421,235.9766,425,231.9766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="427" y1="231.9766" y2="231.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="227.1201">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="234" y="227.1201">create(org, scheduler)</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="134" x="433" y="209.625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="485" y="231.1582">task:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="120" x="440" y="248.7676">MakePaymentTask</text><polygon fill="#A80036" points="357,292.1953,367,296.1953,357,300.1953,361,296.1953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="363" y1="296.1953" y2="296.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="291.3389">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="234" y="291.3389">create()</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="369" y="273.8438"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="35" x="376.5" y="295.377">timer:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="376" y="312.9863">Timer</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="258" y1="360.4141" y2="360.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="258" x2="258" y1="360.4141" y2="373.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="217" x2="258" y1="373.4141" y2="373.4141"/><polygon fill="#A80036" points="227,369.4141,217,373.4141,227,377.4141,223,373.4141" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="223" y="355.5576">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="234" y="355.5576">date = getNextDate()</text><polygon fill="#A80036" points="379,399.7656,389,403.7656,379,407.7656,383,403.7656" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="206" x2="385" y1="403.7656" y2="403.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="213" y="398.9092">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="118" x="224" y="398.9092">schedule(task, date)</text><path d="M159,416.7656 L159,442.7656 L441,442.7656 L441,426.7656 L431,416.7656 L159,416.7656 " fill="#FBFB77" filter="url(#f1imajdaqds2fx)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M431,416.7656 L431,426.7656 L441,426.7656 L431,416.7656 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="177" x="205.25" y="435.2607">On the specified date and time</text><polygon fill="#A80036" points="485,470.4688,495,474.4688,485,478.4688,489,474.4688" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="401" x2="491" y1="474.4688" y2="474.4688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="408" y="469.6123">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="419" y="469.6123">run()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="507" x2="554" y1="499.8203" y2="499.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="554" x2="554" y1="499.8203" y2="512.8203"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="513" x2="554" y1="512.8203" y2="512.8203"/><polygon fill="#A80036" points="523,508.8203,513,512.8203,523,516.8203,519,512.8203" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7" x="519" y="494.9639">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="530" y="494.9639">makePayments()</text><polygon fill="#A80036" points="674,544.1719,684,548.1719,674,552.1719,678,548.1719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="680" y1="548.1719" y2="548.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="543.3154">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="537" y="543.3154">lt = getListTransaction()</text><polygon fill="#A80036" points="758.5,604.5234,768.5,608.5234,758.5,612.5234,762.5,608.5234" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="764.5" y1="608.5234" y2="608.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="603.667">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="142" x="537" y="603.667">rp = getRegistPayment()</text><polygon fill="#A80036" points="850.5,664.875,860.5,668.875,850.5,672.875,854.5,668.875" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="512" x2="856.5" y1="668.875" y2="668.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="519" y="664.0186">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="537" y="664.0186">makePayments(lt, org)</text><polygon fill="#A80036" points="1666.5,695.2266,1676.5,699.2266,1666.5,703.2266,1670.5,699.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1672.5" y1="699.2266" y2="699.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="694.3701">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="897.5" y="694.3701">create()</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="153" x="1678.5" y="676.875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="139" x="1685.5" y="698.4082">completeTransactions</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="108" x="1701" y="716.0176">:ListTransactions</text><path d="M799,748.0938 L872,748.0938 L872,756.0938 L862,766.0938 L799,766.0938 L799,748.0938 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="454.3828" style="stroke: #000000; stroke-width: 2.0;" width="1046.5" x="799" y="748.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="814" y="762.5889">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="887" y="761.5127">[for each transaction]</text><polygon fill="#A80036" points="1588.5,784.7969,1598.5,788.7969,1588.5,792.7969,1592.5,788.7969" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1594.5" y1="788.7969" y2="788.7969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="783.9404">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="136" x="897.5" y="783.9404">trs = getTransaction(ID)</text><polygon fill="#A80036" points="1097.5,845.1484,1107.5,849.1484,1097.5,853.1484,1101.5,849.1484" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1103.5" y1="849.1484" y2="849.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="844.292">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="200" x="897.5" y="844.292">payment = makeBankTransfer(org)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1119.5" x2="1161.5" y1="879.5" y2="879.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1161.5" x2="1161.5" y1="879.5" y2="892.5"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1161.5" y1="892.5" y2="892.5"/><polygon fill="#A80036" points="1130.5,888.5,1120.5,892.5,1130.5,896.5,1126.5,892.5" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1126.5" y="874.6436">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="167" x="1144.5" y="874.6436">amount = getAmountToPay()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="1119.5" x2="1161.5" y1="922.8516" y2="922.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1161.5" x2="1161.5" y1="922.8516" y2="935.8516"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1120.5" x2="1161.5" y1="935.8516" y2="935.8516"/><polygon fill="#A80036" points="1130.5,931.8516,1120.5,935.8516,1130.5,939.8516,1126.5,935.8516" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1126.5" y="917.9951">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="1144.5" y="917.9951">IBAN = getFreelancerIBAN()</text><polygon fill="#A80036" points="1306.5,962.2031,1316.5,966.2031,1306.5,970.2031,1310.5,966.2031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1119.5" x2="1312.5" y1="966.2031" y2="966.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1126.5" y="961.3467">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="1144.5" y="961.3467">payTo(amount, IBAN)</text><polygon fill="#A80036" points="1443.5,992.5547,1453.5,996.5547,1443.5,1000.5547,1447.5,996.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1323.5" x2="1449.5" y1="996.5547" y2="996.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="1330.5" y="991.6982">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="1348.5" y="991.6982">create(trs, org)</text><rect fill="#FEFECE" filter="url(#f1imajdaqds2fx)" height="49.2188" style="stroke: #A80036; stroke-width: 1.5;" width="73" x="1455.5" y="974.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="54" x="1465" y="995.7363">payment</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="59" x="1462.5" y="1013.3457">:Payment</text><polygon fill="#A80036" points="1588.5,1056.7734,1598.5,1060.7734,1588.5,1064.7734,1592.5,1060.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1594.5" y1="1060.7734" y2="1060.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="1055.917">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="64" x="897.5" y="1055.917">remove(trs)</text><polygon fill="#A80036" points="1740,1117.125,1750,1121.125,1740,1125.125,1744,1121.125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1746" y1="1121.125" y2="1121.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="1116.2686">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="44" x="897.5" y="1116.2686">add(trs)</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="914.5" y1="1181.4766" y2="1181.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="914.5" x2="914.5" y1="1181.4766" y2="1194.4766"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="873.5" x2="914.5" y1="1194.4766" y2="1194.4766"/><polygon fill="#A80036" points="883.5,1190.4766,873.5,1194.4766,883.5,1198.4766,879.5,1194.4766" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="1176.6201">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="897.5" y="1176.6201">add(payment)</text><polygon fill="#A80036" points="1740,1227.8281,1750,1231.8281,1740,1235.8281,1744,1231.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="872.5" x2="1746" y1="1231.8281" y2="1231.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="879.5" y="1226.9717">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="125" x="897.5" y="1226.9717">emailAboutPayment()</text><polygon fill="#A80036" points="222,1288.1797,212,1292.1797,222,1296.1797,218,1292.1797" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="216" x2="496" y1="1292.1797" y2="1292.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14" x="228" y="1287.3232">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="246" y="1287.3232">scheduleNextMonth()</text><!--MD5=[5f27d543bb079ca25ef4bfb76ab4b3eb]
@startuml SD
autonumber
hide footbox

participant "scheduler\n:PaymentScheduler" as SC
participant "timer:\nTimer" as TIMER
participant "task:\nMakePaymentTask" as TASK
participant "org\n:Organization" as org
participant ":App" as app
participant "rp\n:RegistPayment" as rp
participant "trs\n:Transaction" as trs
participant ":PaymentAPI" as papi
participant "payment\n:Payment" as pay
participant "lt\n:ListTransactions" as lt
participant "completeTransactions\n:ListTransactions" as ct

[o-> SC : create(day, timeOfDay, org)
activate SC
        SC -> SC : resetTime(day, timeOfDay)
        SC -> SC : scheduleNextMonth()
loop
        activate SC
                SC -> TASK**  : create(org, scheduler)
                SC -> TIMER** : create()
                SC -> SC : date = getNextDate()
                SC ->TIMER: schedule(task, date)
        deactivate SC
deactivate SC
        activate TIMER
                note over SC,TIMER  : On the specified date and time
                TIMER->TASK:run()
                activate TASK
                        TASK->TASK: makePayments()
                        activate TASK
                                TASK -> org : lt = getListTransaction()
                                activate org
                                deactivate org
                                TASK -> app : rp = getRegistPayment()
                                activate app
                                deactivate app
                                TASK -> rp : makePayments(lt, org)
                                activate rp
                                        rp -> ct ** : create()
                                        loop for each transaction
                                                rp -> lt : trs = getTransaction(ID)
                                                activate lt
                                                deactivate lt
                                                rp -> trs : payment = makeBankTransfer(org)
                                                activate trs
                                                        trs -> trs: amount = getAmountToPay()
                                                        trs -> trs: IBAN = getFreelancerIBAN()
                                                        trs -> papi: payTo(amount, IBAN)
                                                        activate papi
                                                                papi -> pay ** : create(trs, org)
                                                        deactivate papi
                                                deactivate trs
                                                rp -> lt : remove(trs)
                                                activate lt
                                                deactivate lt
                                                rp -> ct : add(trs)
                                                activate ct
                                                deactivate ct
                                                rp -> rp : add(payment)
                                        end
                                        rp -> ct : emailAboutPayment()
                                        activate ct
                                        deactivate ct
                                deactivate rp
                        deactivate TASK
                        TASK -> SC : scheduleNextMonth()
                        activate SC
                deactivate TASK
        deactivate TIMER
end


@enduml

PlantUML version 1.2020.10(Sun May 17 10:35:57 WEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 14+36
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>