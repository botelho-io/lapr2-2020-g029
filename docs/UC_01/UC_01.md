# UC1 - Create Payment Transaction

## 1. Requirements Engineering

### Brief Format
The collaborator starts the process of creating a new transaction. The system requests all the data relevant to the transaction (freelancer, task, execution details). The collaborator inserts all the data. The system validates and stores the data and informs the collaborator of the success of the operation and the amount that will be payed to the freelancer.

### SSD
![SSD](SSD.svg)


### Complete Format

#### Main Actor

- Collaborator.

#### Interested Parties and Their Interests
* **Freelancer:** intends to be able to get paid by the organizations for the tasks that they executed.
* **Collaborator:** intends to add a new transaction to the system so that payments can be made to them.
* **Organization:** intends to have all the data relevant to make payments to the freelancers who complete their tasks.
* **T4J:** intends to satisfy the interests of the parties mentioned above.


#### Pre-Conditions
\-

#### Pos-conditions
The task is marked as as being executed and will be payed automatically on the date specified by the manager.

#### Main Scenario of Success (or Basic Flux)

1. The collaborator starts the process of creating a new transaction.
2. The system shows all the unexecuted tasks published by their organization.
3. The collaborator choses one.
4. The system shows all the freelancers in the system.
5. The collaborator choses one collaborator. (the one that executed the task)
6. The system requests all the relevant information about the execution of the task (end date, days of delay, description of the quality of the work)
7. The collaborator introduces all the data.
8. The system validates and stores the data and informs the collaborator of the success of the operation and the amount that will be payed to the freelancer.

#### Extensions (or Alternative Fluxes)

\*a. The user cancels the creation of the freelancer.

> The UC ends.

2a. There are no unexecuted tasks on the system/ the task has not been added to the system.

> 1.The system allows the collaborator to add a new task (UC2) or cancel the operation.
> > 1a. The collaborator choses to add a new task.
> > > 1. The system starts UC2
> > > 2. The system resumes UC1 from step 2.
> >
> > 1b. The user cancels the operation
> > > The UC ends.

4a. There are no freelancers on the system/ the freelancer has not been added to the system.

> 1.The system allows the collaborator to add a new freelancer (UC3) or cancel the operation.
> > 1a. The collaborator choses to add a new freelancer.
> > > 1. The system starts UC3
> > > 2. The system resumes UC1 from step 4.
> >
> > 1b. The user cancels the operation
> > > The UC ends.

7a. Not all the necessary data was introduced.

> The system informs the user and allows them to reintroduce the data beginning at step 2.

8a. The system detects invalid data

> 1. The system inform the user of the error.
> 2. The UC ends.

#### Special Requirements
\-

#### List of Variations in Technology or Data

\-

#### Frequency of Occurrence

\-

#### Open Questions

- What's the frequency of this UC?

## 2. OO Analysis

### Excerpt from the Relevant Domain Model for UC

![MD.svg](MD.svg)

## 3. Design - Use Case Realization

### Rational

| Main Flow                                                                                                                                                     | Question: What Class ...                                      | Answer                        | Justification               |
|:--------------                                                                                                                                                |:----------------------                                        |:----------                    |:----------------------------|
| 1. The **Collaborator** starts the process of creating a new **Freelancer**.                                                                                  | …interacts with the user?                                     | CreateFreelancerUI            |Pure Fabrication. |
|                                                                                                                                                               | …coordinates the UC?                                          | CreateFreelancerController    |Controller. |
|                                                                                                                                                               | …creates instances of Freelancer?                             | RegistFreelancer              |By the IE principle App contains Freelancer, however by the High Cohesion & Low Coupling (HC+LC) principle, that responsibility has been assigned to RegistFreelancer. |
| 2. The *system* asks for all the relevant information of the **Freelancer** (name, level of expertise (senior/junior), email, NIF, IBAN, address, country).   |                                                               |                               | |
| 3. The collaborator inserts the information that was requested.                                                                                               | …saves the information that was inserted?                     | Freelancer                    | Instance created in step 1. |
| 4. The system validates and presents the information and requests confirmation.                                                                               | …validates the data in Freelancer (local validation)          | Freelancer                    | IE: Contains its own data. |
|                                                                                                                                                               | …validates the data in Freelancer (global validation)         | RegistFreelancer              | By the IE principle App contains Freelancer, however by the HC+LC principle, that responsibility has been assigned to RegistFreelancer. |
| 5. The collaborator confirms.                                                                                                                                 |                                                               |                               | |
| 6. The systems validates the data that was introduced, stores it and informs the user of the success of the operation.                                        | …saves the organization created?                              | RegistFreelancer              | By the IE principle App contains Freelancer, however by the HC+LC principle, that responsibility has been assigned to RegistFreelancer. |


### Systematization

It follows from the rational that the conceptual classes promoted to software classes are:

 * Freelancer

Other software classes (i.e. Pure Fabrication) identified:

 * CreateFreelancerUI
 * CreateFreelancerController
 * RegistFreelancer

### Sequence Diagram

![SD.svg](SD.svg)

### Class Diagram

![CD.svg](CD.svg)

